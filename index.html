<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Кликер</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tiny5&display=swap" rel="stylesheet">
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background: linear-gradient(to bottom, #000000, #434343);
            font-family: 'Arial', sans-serif;
            color: #fff;
            text-align: center;
        }

        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .coin {
            width: 300px;
            height: 300px;
            background-size: cover;
            background-image: url("images/nikita.png");
            cursor: pointer;
            -webkit-tap-highlight-color: transparent;
            transition: transform 0.1s ease-in-out; /* Добавляем анимацию */
        }

        .coin:focus {
            outline: none; /* Скрывает стандартный контур */
        }


        .coin:active { /* Стиль для состояния "нажато" */
            transform: scale(0.95); /* Уменьшаем размер при нажатии */
        }

        .counter {
            font-size: 1.5em;
            margin-top: 50px;
        }

        .upgrades {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 50px;
        }

        .upgrade {
            display: flex;
            flex-direction: column; /* Изменяем направление на столбцовое */
            align-items: center;
            justify-content: center;
            width: 400px;
            margin-bottom: 10px;
            padding: 14px;
            background-color: rgba(0, 0, 0, 0.5);
            border-radius: 76px;
            word-wrap: break-word; /* Добавлено для переноса слов */
        }

        .upgrade-name {
            font-size: 1.2em;
            margin-bottom: 10px; /* Увеличиваем отступ */
        }

        .upgrade-cost {
            font-size: 1em;
            margin-bottom: 5px;
        }

        .upgrade-price {
            font-size: 1em;
            margin-bottom: 5px;
        }

        .title {
            font-size: 3em;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
        <div class="title" style="font-family: 'Tiny5', cursive;">NiksClicks</div>
        <div class="highlighted-text" style="font-family: 'Tiny5', cursive;">⚠️ Beta</div>
        <div class="counter" id="counter">0</div>
        <div class="coin" id="coin"></div>
        <div class="upgrades" id="upgrades"></div>
    </div>

    <script>
       let clicks = 0;
let cps = 0; // Clicks per second
let upgrades = {
    "Автокликер": {
        cost: 10,
        level: 0,
        cps: 0.1
    },
    "Суперкликер": {
        cost: 100,
        level: 0,
        cps: 1
    }
};

const counter = document.getElementById('counter');
const coin = document.getElementById('coin');
const upgradesContainer = document.getElementById('upgrades');

// Загрузка прогресса из LocalStorage
loadProgress();

// Обработка кликов по монете
coin.addEventListener('click', () => {
    clicks++;
    updateCounter();
    saveProgress();
});

// Обновление счетчика кликов
function updateCounter() {
    counter.textContent = Math.floor(clicks); // Используем Math.floor для округления вниз
}

// Обновление счётчика кликов в секунду (CPS)
function updateCPS() {
    cps = 0;
    for (const upgradeName in upgrades) {
        cps += upgrades[upgradeName].cps * upgrades[upgradeName].level;
    }
    // Обновление счётчика CPS (например, в консоли)
    console.log("CPS:", cps);
}

// Обновление отображения улучшений
function updateUpgrades() {
    upgradesContainer.innerHTML = '';
    for (const upgradeName in upgrades) {
        const upgrade = upgrades[upgradeName];
        const upgradeElement = document.createElement('div');
        upgradeElement.classList.add('upgrade');
        upgradeElement.innerHTML = `
                    <span class="upgrade-name" style="font-family: 'Tiny5', cursive;">${upgradeName}</span>
                    <span class="upgrade-cost">Стоимость: ${upgrade.cost}</span>
                    <span class="upgrade-price">Уровень: ${upgrade.level}</span>
                    <button class="upgrade-button">Купить</button>
                `;
        upgradeElement.querySelector('.upgrade-button').addEventListener('click', () => {
            if (clicks >= upgrade.cost) {
                clicks -= upgrade.cost;
                upgrade.level++;
                upgrade.cost = Math.round(upgrade.cost * 1.5); // Увеличение стоимости после покупки
                updateCounter();
                updateUpgrades();
                updateCPS();
                saveProgress();
            }
        });
        upgradesContainer.appendChild(upgradeElement);
    }
}

// Сохранение прогресса в LocalStorage
function saveProgress() {
    localStorage.setItem('clicks', clicks);
    localStorage.setItem('upgrades', JSON.stringify(upgrades));
}

// Загрузка прогресса из LocalStorage
function loadProgress() {
    clicks = parseInt(localStorage.getItem('clicks')) || 0;
    const storedUpgrades = localStorage.getItem('upgrades');
    if (storedUpgrades) {
        upgrades = JSON.parse(storedUpgrades);
    }
    updateCounter();
    updateUpgrades();
    updateCPS();
}

// Автоматический клик
setInterval(() => {
    clicks += cps;
    updateCounter();
    saveProgress();
}, 1000); // 1 секунда

updateUpgrades(); // Отображение улучшений
    </script>
</body>
</html>